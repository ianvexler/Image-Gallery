<p style="color: green"><%= notice %></p>

<%= render @gallery %>

<div>
  <% if @images.length > 0 %>
    <p id="helper-text-explanation" class="mt-2 text-base text-gray-500 dark:text-gray-400">Click an image to view.</p>
  <% end %>
  <% if @gallery.user_id == session[:user_id]%>
    <div style="margin-top:10px; margin-bottom:10px;">
      <%= link_to "Edit Title", edit_gallery_path(@gallery), class: "text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800" %> 
      <%= link_to "Add Image", new_image_path(gallery_id: @gallery.id), class: "text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800" %> 
      <%= link_to "Delete Gallery", @gallery, class: "text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800", data: { turbo_method: :delete } %>
    </div>
  <% end %>

  <div class="py-5">
    <% if @images.length > 0 %>
      <%= link_to "Slideshow", slideshow_path(id: @gallery.id), class: "text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800" %>

      <section class="overflow-hidden text-gray-700">
        <div class="container px-5 py-2 mx-auto lg:pt-12 lg:px-32">
          <div class="flex flex-wrap -m-1 md:-m-2">
              <% @images.each do |image| %>

                <div class="flex flex-wrap w-1/4">
                  <div class="w-full p-1 md:p-2">
                    <%= link_to image_tag(image.image_url, class: "block hover:opacity-70 object-cover object-center w-full h-full"), image %>
                  </div>
                </div>
              <% end %>
          </div>
        </div>
      </section>
    <% else %>
      <p> This gallery has no images </p>
    <% end %>
  </div>

  <div style="padding-top:10px;">
    <% if params[:view_name] == "my_galleries" %>
      <%= link_to "← Back to galleries", galleries_path(view_name: "my_galleries"), class: "hover:text-purple-900 underline" %>
    <% else %>
      <%= link_to "← Back to galleries", galleries_path(view_name: "all_galleries"), class: "hover:text-purple-900 underline" %>
    <% end %>
  </div>
</div>
